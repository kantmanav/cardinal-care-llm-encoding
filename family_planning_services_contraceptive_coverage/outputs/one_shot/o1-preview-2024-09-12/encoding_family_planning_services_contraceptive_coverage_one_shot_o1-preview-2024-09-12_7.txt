covered(C) :-
  claim.service_type(C, female_contraceptive_counseling),
  (claim.type_of_contraceptive_counseling(C, methods);
   claim.type_of_contraceptive_counseling(C, management_of_side_effects);
   claim.type_of_contraceptive_counseling(C, adherence)),
  (claim.counseling_setting(C, individual);
   claim.counseling_setting(C, group)).

covered(C) :-
  claim.service_type(C, female_contraceptive_drugs_or_devices_and_follow_up_care),
  claim.type_of_female_contraceptive_method_provided(C, M),
  fda_approved_female_contraceptive_method(M),
  ( (otc_female_contraceptive_method(M),
     claim.otc_female_contraceptive_method_is_prescribed_by_provider(C, yes))
    ;
    (\+ otc_female_contraceptive_method(M)) ),
  claim.mode_of_providing_service(C, Mode),
  permitted_mode_of_providing_service(Mode).

permitted_mode_of_providing_service(provided_by).
permitted_mode_of_providing_service(administered_by).
permitted_mode_of_providing_service(removed_by).
permitted_mode_of_providing_service(provided_related_service).
permitted_mode_of_providing_service(provided_related_supplies).
permitted_mode_of_providing_service(provided_follow_up_care).

covered(C) :-
  claim.service_type(C, female_voluntary_sterilization),
  claim.type_of_female_voluntary_sterilization_procedure_service_or_supplies(C, Type),
  permitted_voluntary_sterilization_type(Type).

permitted_voluntary_sterilization_type(tubal_ligation).
permitted_voluntary_sterilization_type(sterilization_implants).
permitted_voluntary_sterilization_type(related_services).
permitted_voluntary_sterilization_type(related_supplies).

