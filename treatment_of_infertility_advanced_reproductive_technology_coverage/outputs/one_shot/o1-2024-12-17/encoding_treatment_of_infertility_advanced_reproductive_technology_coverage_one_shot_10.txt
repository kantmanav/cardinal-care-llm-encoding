covered(C) :-  
    % Must be one of the valid, in-network service locations
    ( claim.location_service_received(C, stanford_health_care)
      ; claim.location_service_received(C, menlo_medical_clinic)
      ; claim.location_service_received(C, sutter_health_care_palo_alto_medical_foundation)
      ; claim.location_service_received(C, tier_two_in_network)
    )
    &  
    % Must be a fertility preservation service (IVF or cryopreservation)
    ( claim.service_type(C, ivf_for_fertility_preservation)
      ; claim.service_type(C, cryopreservation_for_fertility_preservation)
    )
    &  
    % Must not exceed planâ€™s maximum allowed number of ART services in a policy year
    claim.num_other_covered_art_services(C, N), N < 1
    &  
    % For fertility preservation: must be believed fertile, have a qualifying planned service that results in infertility,
    % and if eggs will be retrieved, meet the ovarian reserve/POF criteria per Aetna policy
    claim.patient_is_believed_to_be_fertile(C, yes)
    &  
    ( claim.planned_service(C, chemotherapy)
      ; claim.planned_service(C, pelvic_radiotherapy)
      ; claim.planned_service(C, gonadotoxic_therapy)
      ; claim.planned_service(C, orchiectomy)
      ; claim.planned_service(C, oophorectomy)
      ; claim.planned_service(C, hysterectomy)
      ; claim.planned_service(C, other_treatment_demonstrated_to_result_in_infertility)
    )
    &  
    ( claim.will_be_retrieving_eggs_for_use(C, no)
      ; ( claim.will_be_retrieving_eggs_for_use(C, yes)
          & (
              % Either not premature ovarian failure, or POF allowed under policy criteria
              claim.patient_has_premature_ovarian_failure(C, no)
              ; claim.patient_has_premature_ovarian_failure(C, yes)
            )
        )
    ).

