covered(C) :-  
    /* Must be one of the covered service types (IVF or cryopreservation) */  
    claim.service_type(C, T),  
    (T = ivf_for_fertility_preservation ; T = cryopreservation_for_fertility_preservation),  

    /* Must be in-network */  
    claim.location_service_received(C, Loc),  
    Loc \= other,  

    /* Must not exceed the plan's 1-course-per-year limit */  
    claim.num_other_covered_art_services(C, N),  
    N < 1,  

    /* Must meet fertility preservation criteria */  
    claim.patient_is_believed_to_be_fertile(C, yes),  
    claim.planned_service(C, S),  
    ( S = chemotherapy  
    ; S = pelvic_radiotherapy  
    ; S = gonadotoxic_therapy  
    ; S = orchiectomy  
    ; S = oophorectomy  
    ; S = hysterectomy  
    ; S = other_treatment_demonstrated_to_result_in_infertility  
    ),  

    /* If IVF, must additionally meet ART eligibility/trial requirements */  
    ( T = cryopreservation_for_fertility_preservation  
    ; ( T = ivf_for_fertility_preservation,  
        claim.will_be_retrieving_eggs_for_use(C, yes),  
        ( claim.inseminations_not_expected_to_be_effective_and_ivf_expected_to_be_only_effective_treatment(C, yes)  
        ; claim.patient_has_premature_ovarian_failure(C, yes)  
        ; (claim.num_cycles_oral_or_injectable_ovulation_induction(C, Ind), Ind >= 3)  
        )  
      )  
    ).  

